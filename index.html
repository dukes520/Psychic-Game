<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>The Psychic Game</title>
  <link rel="stylesheet" type="text/css" href="reset.css">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
  <div class="wrapper">
    <div>
    </div>
      <div>
        <header>
        <h1>The Psychic Game</h1>
        </header>
        <div>
          <h3>Are you smart enough to guess the letter the computer has picked?</h3>
          <br>
          <h2>Feeling lucky?Or are you Psychic?</h2>
        </div>
        <div id="game">
          <ul>
            <li><p id="wins">Wins: </p></li>
            <li><p id="losses">Losses: </p></li>
            <li><p id="guessLeft">Guesses Left: </p></li>
            <li><p id="let">Your Guesses so far: </p></li>
          </ul>  
        </div>
      </div>
      <script type="text/javascript">
        var computerChoices = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];

        var wins = 0;
        var losses = 0;
        var guesses = 9;
        var guessesLeft = 9;
        var guessedLetters = [];
        var letterToGuess = null;

        var computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];

        var updateGuessesLeft = function() {
          document.querySelector('#guessLeft').innerHTML = "Guesses left: " + guessesLeft;
        };

        var updateLetterToGuess = function() {
          this.letterToGuess = this.computerChoices[Math.floor(Math.random() * this.computerChoices.length)];
        };
        var updateGuessesSoFar = function() {
          document.querySelector('#let').innerHTML = "Your Guesses so far: " + guessedLetters.join(', ');
        };

        var reset = function() {
          totalGuesses = 9;
          guessesLeft = 9;
          guessedLetters = [];

          updateLetterToGuess();
          updateGuessesLeft();
          updateGuessesSoFar();
        }

        updateLetterToGuess();
        updateGuessesLeft();

        document.onkeyup = function(event) {
            guessesLeft--;
          var userGuess = String.fromCharCode(event.keyCode).toLowerCase();
          guessedLetters.push(userGuess);
          updateGuessesLeft();
          updateGuessesSoFar();

                if (guessesLeft > 0){
                    if (userGuess == letterToGuess){
                        wins++;
                        document.querySelector('#wins').innerHTML = "Wins: " + wins;
                        alert("You're a psychic, Harry!");
                        reset();
                    }
                }else if(guessesLeft == 0){
                    losses++;
                    document.querySelector('#losses').innerHTML = "Losses: " + losses;
                    alert("You had 9 guesses and couldn't guess right? Please don't quit your day job.");
                    
                    reset();
                }
        };
      </script>
</body>

</html>